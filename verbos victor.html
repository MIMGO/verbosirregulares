<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Verbos en Inglés 2ª ESO - Salesianos</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .container {
            background-color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            width: 90%;
            max-width: 400px;
        }
        h1 {
            font-size: 28px;
            color: #333;
            margin-bottom: 20px;
        }
        h2 {
            font-size: 22px;
            color: #444;
            margin-bottom: 15px;
        }
        button {
            padding: 12px 25px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, transform 0.2s;
            margin: 5px; /* Añadido margen entre botones */
        }
        button:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }
        input[type="text"] {
            margin-bottom: 15px;
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 2px solid #ddd;
            box-sizing: border-box;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
        #question-counter {
            font-weight: bold;
            margin-bottom: 10px;
        }
        #final-score {
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
        @media (max-width: 768px) {
            .container {
                width: 100%;
                padding: 10px;
            }
            button {
                width: 100%; /* Botones ocupan todo el ancho en pantallas pequeñas */
                margin: 10px 0; /* Márgenes verticales */
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Juego de Verbos en Inglés 2ª ESO - Salesianos</h1>

    <div id="start-options">
        <h2>Elige el conjunto de verbos:</h2>
        <button id="first50">Primeros 50 Verbos</button>
        <button id="last50">Últimos 50 Verbos</button>
        <button id="all">Todos los Verbos</button>
    </div>

    <div id="game" class="hidden">
        <div id="question-counter">Pregunta 0/15</div>
        <h2 id="question"></h2>

        <input type="text" id="infinitive" placeholder="Infinitivo" aria-label="Infinitivo">
        <input type="text" id="past" placeholder="Pasado Simple" aria-label="Pasado Simple">
        <input type="text" id="participle" placeholder="Participio Pasado" aria-label="Participio Pasado">

        <button onclick="submitAnswer()">Enviar Respuesta</button>
        <div id="feedback"></div>
    </div>

    <div id="results" class="hidden">
        <h2>Resultados</h2>
        <div id="incorrect-answers"></div>
        <div id="final-score"></div>
        <button onclick="restartGame()">Reiniciar Juego</button>
    </div>
</div>

<script>
    const verbs = [
        { infinitivo: 'be', pasadoSimple: 'was', participioPasado: 'been', español: 'ser / estar' },
        { infinitivo: 'bear', pasadoSimple: 'bore', participioPasado: 'born', español: 'llevar / aguantar' },
        { infinitivo: 'beat', pasadoSimple: 'beat', participioPasado: 'beaten', español: 'golpear' },
        { infinitivo: 'become', pasadoSimple: 'became', participioPasado: 'become', español: 'llegar a ser' },
        { infinitivo: 'bite', pasadoSimple: 'bit', participioPasado: 'bitten', español: 'morder' },
        { infinitivo: 'blow', pasadoSimple: 'blew', participioPasado: 'blown', español: 'soplar' },
        { infinitivo: 'begin', pasadoSimple: 'began', participioPasado: 'begun', español: 'empezar' },
        { infinitivo: 'break', pasadoSimple: 'broke', participioPasado: 'broken', español: 'romper' },
        { infinitivo: 'bring', pasadoSimple: 'brought', participioPasado: 'brought', español: 'traer' },
        { infinitivo: 'build', pasadoSimple: 'built', participioPasado: 'built', español: 'construir' },
        { infinitivo: 'burn', pasadoSimple: 'burnt', participioPasado: 'burnt', español: 'quemar' },
        { infinitivo: 'burst', pasadoSimple: 'burst', participioPasado: 'burst', español: 'reventar' },
        { infinitivo: 'buy', pasadoSimple: 'bought', participioPasado: 'bought', español: 'comprar' },
        { infinitivo: 'can', pasadoSimple: 'could', participioPasado: 'been able to', español: 'poder' },
        { infinitivo: 'catch', pasadoSimple: 'caught', participioPasado: 'caught', español: 'coger / agarrar' },
        { infinitivo: 'choose', pasadoSimple: 'chose', participioPasado: 'chosen', español: 'elegir' },
        { infinitivo: 'come', pasadoSimple: 'came', participioPasado: 'come', español: 'venir' },
        { infinitivo: 'cost', pasadoSimple: 'cost', participioPasado: 'cost', español: 'costar' },
        { infinitivo: 'cut', pasadoSimple: 'cut', participioPasado: 'cut', español: 'cortar' },
        { infinitivo: 'deal', pasadoSimple: 'dealt', participioPasado: 'dealt', español: 'tratar' },
        { infinitivo: 'dig', pasadoSimple: 'dug', participioPasado: 'dug', español: 'cavar' },
        { infinitivo: 'do', pasadoSimple: 'did', participioPasado: 'done', español: 'hacer' },
        { infinitivo: 'draw', pasadoSimple: 'drew', participioPasado: 'drawn', español: 'dibujar' },
        { infinitivo: 'dream', pasadoSimple: 'dreamt', participioPasado: 'dreamt', español: 'soñar' },
        { infinitivo: 'drink', pasadoSimple: 'drank', participioPasado: 'drunk', español: 'beber' },
        { infinitivo: 'drive', pasadoSimple: 'drove', participioPasado: 'driven', español: 'conducir' },
        { infinitivo: 'eat', pasadoSimple: 'ate', participioPasado: 'eaten', español: 'comer' },
        { infinitivo: 'fall', pasadoSimple: 'fell', participioPasado: 'fallen', español: 'caer' },
        { infinitivo: 'feed', pasadoSimple: 'fed', participioPasado: 'fed', español: 'alimentar' },
        { infinitivo: 'feel', pasadoSimple: 'felt', participioPasado: 'felt', español: 'sentir' },
        { infinitivo: 'fight', pasadoSimple: 'fought', participioPasado: 'fought', español: 'luchar' },
        { infinitivo: 'find', pasadoSimple: 'found', participioPasado: 'found', español: 'encontrar' },
        { infinitivo: 'fly', pasadoSimple: 'flew', participioPasado: 'flown', español: 'volar' },
        { infinitivo: 'forbid', pasadoSimple: 'forbade', participioPasado: 'forbidden', español: 'prohibir' },
        { infinitivo: 'forget', pasadoSimple: 'forgot', participioPasado: 'forgotten', español: 'olvidar' },
        { infinitivo: 'forgive', pasadoSimple: 'forgave', participioPasado: 'forgiven', español: 'perdonar' },
        { infinitivo: 'freeze', pasadoSimple: 'froze', participioPasado: 'frozen', español: 'congelarse' },
        { infinitivo: 'get', pasadoSimple: 'got', participioPasado: 'got', español: 'conseguir / recibir' },
        { infinitivo: 'give', pasadoSimple: 'gave', participioPasado: 'given', español: 'dar' },
        { infinitivo: 'go', pasadoSimple: 'went', participioPasado: 'gone', español: 'ir' },
        { infinitivo: 'grow', pasadoSimple: 'grew', participioPasado: 'grown', español: 'crecer / cultivar' },
        { infinitivo: 'hang', pasadoSimple: 'hung', participioPasado: 'hung', español: 'colgar' },
        { infinitivo: 'have', pasadoSimple: 'had', participioPasado: 'had', español: 'tener' },
        { infinitivo: 'hear', pasadoSimple: 'heard', participioPasado: 'heard', español: 'oír' },
        { infinitivo: 'hide', pasadoSimple: 'hid', participioPasado: 'hidden', español: 'esconderse' },
        { infinitivo: 'hit', pasadoSimple: 'hit', participioPasado: 'hit', español: 'golpear / pegar' },
        { infinitivo: 'hold', pasadoSimple: 'held', participioPasado: 'held', español: 'sujetar' },
        { infinitivo: 'hurt', pasadoSimple: 'hurt', participioPasado: 'hurt', español: 'herir / hacer daño' },
        { infinitivo: 'keep', pasadoSimple: 'kept', participioPasado: 'kept', español: 'guardar / mantener' },
        { infinitivo: 'lead', pasadoSimple: 'led', participioPasado: 'led', español: 'dirigir' },
        { infinitivo: 'know', pasadoSimple: 'knew', participioPasado: 'known', español: 'saber / conocer' },
        { infinitivo: 'learn', pasadoSimple: 'learnt', participioPasado: 'learnt', español: 'aprender' },

        { infinitivo: 'leave', pasadoSimple: 'left', participioPasado: 'left', español: 'dejar' },
        { infinitivo: 'lend', pasadoSimple: 'lent', participioPasado: 'lent', español: 'prestar' },
        { infinitivo: 'let', pasadoSimple: 'let', participioPasado: 'let', español: 'dejar' },
        { infinitivo: 'lie', pasadoSimple: 'lay', participioPasado: 'lain', español: 'mentir' },
        { infinitivo: 'lose', pasadoSimple: 'lost', participioPasado: 'lost', español: 'perder' },
        { infinitivo: 'make', pasadoSimple: 'made', participioPasado: 'made', español: 'hacer' },
        { infinitivo: 'meet', pasadoSimple: 'met', participioPasado: 'met', español: 'encontrarse' },
        { infinitivo: 'pay', pasadoSimple: 'paid', participioPasado: 'paid', español: 'pagar' },
        { infinitivo: 'put', pasadoSimple: 'put', participioPasado: 'put', español: 'poner' },
        { infinitivo: 'read', pasadoSimple: 'read', participioPasado: 'read', español: 'leer' },
        { infinitivo: 'ride', pasadoSimple: 'rode', participioPasado: 'ridden', español: 'montar' },
        { infinitivo: 'run', pasadoSimple: 'ran', participioPasado: 'run', español: 'correr' },
        { infinitivo: 'say', pasadoSimple: 'said', participioPasado: 'said', español: 'decir' },
        { infinitivo: 'see', pasadoSimple: 'saw', participioPasado: 'seen', español: 'ver' },
        { infinitivo: 'sell', pasadoSimple: 'sold', participioPasado: 'sold', español: 'vender' },
        { infinitivo: 'send', pasadoSimple: 'sent', participioPasado: 'sent', español: 'enviar' },
        { infinitivo: 'sing', pasadoSimple: 'sang', participioPasado: 'sung', español: 'cantar' },
        { infinitivo: 'sit', pasadoSimple: 'sat', participioPasado: 'sat', español: 'sentarse' },
        { infinitivo: 'sleep', pasadoSimple: 'slept', participioPasado: 'slept', español: 'dormir' },
        { infinitivo: 'speak', pasadoSimple: 'spoke', participioPasado: 'spoken', español: 'hablar' },
        { infinitivo: 'spend', pasadoSimple: 'spent', participioPasado: 'spent', español: 'gastar' },
        { infinitivo: 'stand', pasadoSimple: 'stood', participioPasado: 'stood', español: 'estar de pie' },
        { infinitivo: 'take', pasadoSimple: 'took', participioPasado: 'taken', español: 'tomar' },
        { infinitivo: 'teach', pasadoSimple: 'taught', participioPasado: 'taught', español: 'enseñar' },
        { infinitivo: 'tell', pasadoSimple: 'told', participioPasado: 'told', español: 'contar' },
        { infinitivo: 'think', pasadoSimple: 'thought', participioPasado: 'thought', español: 'pensar' },
        { infinitivo: 'throw', pasadoSimple: 'threw', participioPasado: 'thrown', español: 'lanzar' },
        { infinitivo: 'understand', pasadoSimple: 'understood', participioPasado: 'understood', español: 'entender' },
        { infinitivo: 'wake', pasadoSimple: 'woke', participioPasado: 'woken', español: 'despertar' },
        { infinitivo: 'wear', pasadoSimple: 'wore', participioPasado: 'worn', español: 'llevar puesto' },
        { infinitivo: 'win', pasadoSimple: 'won', participioPasado: 'won', español: 'ganar' },
        { infinitivo: 'write', pasadoSimple: 'wrote', participioPasado: 'written', español: 'escribir' }
    ];

    let selectedVerbs = [];
    let currentVerb = {};
    let score = 0;
    let questionCount = 0;
    const totalQuestions = 15;
    let askedVerbs = [];
    let incorrectVerbs = [];

    document.getElementById('first50').addEventListener('click', () => setVerbList('first50'));
    document.getElementById('last50').addEventListener('click', () => setVerbList('last50'));
    document.getElementById('all').addEventListener('click', () => setVerbList('all'));

    function setVerbList(option) {
        if (option === 'first50') {
            selectedVerbs = verbs.slice(0, 52); // Primeros 50
        } else if (option === 'last50') {
            selectedVerbs = verbs.slice(-52); // Últimos 50
        } else {
            selectedVerbs = verbs; // Todos los verbos
        }
        shuffleArray(selectedVerbs); // Mezcla aleatoriamente los verbos seleccionados
        selectedVerbs = selectedVerbs.slice(0, totalQuestions); // Selecciona 15 verbos aleatorios
        document.getElementById('start-options').classList.add('hidden');
        startGame();
    }

    // Función para mezclar un array aleatoriamente usando Fisher-Yates
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function startGame() {
        document.getElementById('game').classList.remove('hidden');
        score = 0;
        questionCount = 0;
        askedVerbs = [];
        incorrectVerbs = [];
        showNewQuestion();
    }

    function showNewQuestion() {
        if (questionCount >= totalQuestions) {
            endGame();
            return;
        }

        currentVerb = selectedVerbs[questionCount];
        questionCount++;
        document.getElementById('question-counter').textContent = `Pregunta ${questionCount}/15`;
        document.getElementById('question').textContent = `¿Cuáles son las tres formas del verbo '${currentVerb.español}'?`;
        clearInputs();
    }

    function submitAnswer() {
        const userInfinitive = document.getElementById('infinitive').value.trim().toLowerCase();
        const userPast = document.getElementById('past').value.trim().toLowerCase();
        const userParticiple = document.getElementById('participle').value.trim().toLowerCase();

        const correctInfinitive = currentVerb.infinitivo.toLowerCase();
        const correctPast = currentVerb.pasadoSimple.toLowerCase();
        const correctParticiple = currentVerb.participioPasado.toLowerCase();

        let isCorrect = true;
        let feedback = '';

        if (userInfinitive !== correctInfinitive) {
            feedback += `<p class="incorrect">Infinitivo incorrecto. Correcto: ${correctInfinitive}</p>`;
            isCorrect = false;
        }

        if (userPast !== correctPast) {
            feedback += `<p class="incorrect">Pasado simple incorrecto. Correcto: ${correctPast}</p>`;
            isCorrect = false;
        }

        if (userParticiple !== correctParticiple) {
            feedback += `<p class="incorrect">Participio pasado incorrecto. Correcto: ${correctParticiple}</p>`;
            isCorrect = false;
        }

        if (!isCorrect) {
            incorrectVerbs.push({ verb: currentVerb, feedback });
        } else {
            score++;
        }

        document.getElementById('feedback').innerHTML = feedback;

        if (questionCount < totalQuestions) {
            showNewQuestion();
        } else {
            endGame();
        }
    }

    function clearInputs() {
        document.getElementById('infinitive').value = '';
        document.getElementById('past').value = '';
        document.getElementById('participle').value = '';
    }

    function endGame() {
        document.getElementById('game').classList.add('hidden');
        document.getElementById('results').classList.remove('hidden');

        const incorrectAnswersDiv = document.getElementById('incorrect-answers');
        incorrectAnswersDiv.innerHTML = '';

        incorrectVerbs.forEach(item => {
            incorrectAnswersDiv.innerHTML += `<p>${item.feedback}</p>`;
        });

        const grade = score === 15 ? 10 :
                      score === 14 ? 9 :
                      score === 13 ? 8 :
                      score === 12 ? 7 :
                      score === 11 ? 6 :
                      score === 10 ? 5 : "Necesitas estudiar más";
        
        document.getElementById('final-score').textContent = `Puntuación final: ${grade}`;
    }

    function restartGame() {
        document.getElementById('results').classList.add('hidden');
        document.getElementById('start-options').classList.remove('hidden');
    }
</script>

</body>
</html>
